@import '../../../../assets/styles/variables';

.side-panel-control-component-view {
    // ДЕЛАЕМ ПОЛНОЭКРАННЫЙ ОВЕРЛЕЙ
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 999999 !important;
    background: white !important;
    display: flex;

    // Стили для левой панели
    .side-panel {
        width: 660px; // Увеличиваем ширину панели на 30% (500px + 160px)
        flex-shrink: 0; // Запрещаем сжиматься
        border-right: 1px solid #ddd;
        
        .side-panel__inner {
            box-shadow: none;
        }
        
        .side-panel__scroll-size {
            height: calc(100vh - 149px);
        }

        .side-panel-primary-panel {
            width: 100%; // Используем всю ширину панели
        }
    }

    .diversion-creation-container {
        height: 100vh;
        overflow-y: auto;
        padding: 30px; // Увеличиваем padding для лучшего отображения
        background: white;
        width: 100%; // Убеждаемся, что контейнер занимает всю ширину панели
    }

    // Улучшаем отображение элементов внутри контейнера
    .select-main-variant-container,
    .select-multiple-variants-container {
        margin-bottom: 20px;
        padding: 0 20px; // Добавляем горизонтальные отступы
    }

    .route-variant-select {
        width: 100%; // Адаптивная ширина
        max-width: none; // Убираем ограничение максимальной ширины
    }

    .route-variant-select {
        width: 100%; // Адаптивная ширина
        max-width: 570px;
    }

    .select-main-variant-container {
        margin-bottom: 10px;
    }

    .select-multiple-variants-container {
        margin-top: 10px;
        margin-bottom: 20px;
    }

    .other-route-variant-container {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    .other-route-variant-text {
        display: inline-block;
        width: 475px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    footer {
        width: 100%; // Используем всю ширину панели
        position: fixed;
        bottom: 0;
        left: 0;
        background-color: #FFF;
        padding: 1rem;
        border-top: 1px solid #ddd;
        z-index: 1000;
    }

    .panel-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 660px;
        background-color: #FFF;
        padding: 1rem;
        border-top: 1px solid #ddd;
        z-index: 1000;
    }

    // Скрываем футер когда модальное окно результата активно
    .diversion-result-modal ~ .panel-footer {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }

    // Скрываем футер когда активен класс diversion-result-active
    body.diversion-result-active & .panel-footer {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
    }

    // Стили для карты
    .map {
        flex-grow: 1; // Разрешаем карте занять всё оставшееся место
        position: relative; // Важно для библиотек карт
        height: 100vh; // Используем всю высоту экрана
        width: calc(100vw - 660px); // Ширина минус новая ширина панели
    }
}

// Глобальные стили для скрытия модальных окон когда DiversionManager открыт
.side-panel-control-component-view {
    // Скрываем все модальные окна из других компонентов
    ~ .edit-effect-panel,
    ~ .CustomModal,
    ~ .CustomMuiDialog,
    ~ .disruption-creation__modal,
    ~ .change-selected-route-variant-modal {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        z-index: -1 !important;
    }
}

// Стили для модального окна результата диверсии
.diversion-result-modal {
    z-index: 99999999 !important;
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
    
    .modal-content {
        z-index: 99999999 !important;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    .modal-dialog {
        z-index: 99999999 !important;
    }
    
    .modal-backdrop {
        z-index: 99999998 !important;
        display: flex !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}





